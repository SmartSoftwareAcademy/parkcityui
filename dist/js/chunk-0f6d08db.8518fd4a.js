(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f6d08db"],{2532:function(t,e,a){"use strict";var i=a("23e7"),o=a("5a34"),s=a("1d80"),n=a("ab13");i({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(s(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"786f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("PageHeader",{attrs:{title:t.title,items:t.items}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"}),a("div",[a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-ground",modifiers:{"add-ground":!0}}],staticClass:"btn btn-success mb-3",attrs:{type:"button"}},[a("i",{staticClass:"mdi mdi-plus me-1"}),t._v(" Add New ")])]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"float-end"},[a("div",{staticClass:"form-inline mb-3"},[a("div",{staticClass:"input-daterange input-group",attrs:{"data-provide":"datepicker","data-date-format":"dd M, yyyy","data-date-autoclose":"true"}},[a("input",{staticClass:"form-control text-left",attrs:{type:"datetime-local",placeholder:"From",name:"From"}}),a("input",{staticClass:"form-control text-left",attrs:{type:"datetime-local",placeholder:"To",name:"To"}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[a("i",{staticClass:"mdi mdi-filter-variant"})])])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[a("label",{staticClass:"d-inline-flex align-items-center fw-normal"},[t._v(" Show "),a("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" entries ")],1)])]),a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_filter text-md-end",attrs:{id:"tickets-table_filter"}},[a("label",{staticClass:"d-inline-flex align-items-center fw-normal"},[t._v(" Search: "),a("b-form-input",{staticClass:"form-control form-control-sm ms-2",attrs:{type:"search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])]),a("div",{staticClass:"table-responsive mb-0"},[a("b-table",{attrs:{"table-class":"table table-centered datatable table-card-list","thead-tr-class":"bg-transparent",items:t.devicelist,fields:t.fields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(check)",fn:function(t){return[a("div",{staticClass:"custom-control custom-checkbox text-center"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"contacusercheck"+t.item.id}}),a("label",{staticClass:"custom-control-label",attrs:{for:"contacusercheck"+t.item.id}})])]}},{key:"cell(id)",fn:function(e){return[a("a",{staticClass:"text-dark fw-bold",attrs:{href:"javascript: void(0);"}},[t._v(" "+t._s(e.item.id)+" ")])]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"badge rounded-pill bg-soft-success font-size-12",class:{"bg-soft-warning":"Busy"===e.item.status}},[t._v(" "+t._s(e.item.status)+" ")])]}},{key:"cell(name)",fn:function(e){return[a("a",{staticClass:"text-body",attrs:{href:"#"}},[t._v(t._s(e.item.name))])]}},{key:"cell(download)",fn:function(){return[a("div",[a("button",{staticClass:"btn btn-light btn-sm w-xs"},[t._v(" Pdf "),a("i",{staticClass:"uil uil-download-alt ms-2"})])])]},proxy:!0},{key:"cell(action)",fn:function(e){return[a("ul",{staticClass:"list-inline mb-0"},[a("li",{staticClass:"list-inline-item"},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-modal",rawName:"v-b-modal.add-ground",modifiers:{"add-ground":!0}}],staticClass:"px-2 text-primary",attrs:{href:"javascript:void(0);",title:"Edit"},on:{click:function(a){return t.edit(e.item.id,e.index,e.item.name,e.item.location,e.item.capacity,e.item.status)}}},[a("i",{staticClass:"uil uil-pen font-size-18"})])]),a("li",{staticClass:"list-inline-item"},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-2 text-danger",attrs:{href:"javascript:void(0);",title:"Delete"},on:{click:function(a){return t.deleterec(e.item.id,e.item.index,e.item.name)}}},[a("i",{staticClass:"uil uil-trash-alt font-size-18"})])])])]}}])})],1),a("b-modal",{attrs:{id:"add-ground",size:"xl",title:t.modaltitle}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"mt-4"},[a("h5",{staticClass:"font-size-14 mb-4"},[a("i",{staticClass:"mdi mdi-arrow-right text-primary me-1"}),t._v(" "+t._s(t.title)+" ")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.add()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("b-form-group",{staticClass:"mb-3",attrs:{label:"Name","label-for":"formrow-name-input"}},[a("vue-google-autocomplete",{ref:"name",attrs:{id:"map",classname:"form-control",placeholder:t.name,country:"ke"},on:{change:t.getAddressData}})],1)],1),a("div",{staticClass:"col-md-6"},[a("b-form-group",{staticClass:"mb-3",attrs:{label:"Capacity","label-for":"formrow-idno-input"}},[a("b-form-input",{attrs:{id:"formrow-idno-input",type:"number",placeholder:"20"},model:{value:t.capacity,callback:function(e){t.capacity=e},expression:"capacity"}})],1)],1),a("div",{staticClass:"col-md-6"},[a("b-form-group",{staticClass:"mb-3",attrs:{label:"Location","label-for":"formrow-address-input"}},[a("b-form-input",{directives:[{name:"show",rawName:"v-show",value:""!=t.name,expression:"name != ''"}],ref:"location",attrs:{id:"formrow-address-input",type:"text",placeholder:t.location},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1)],1),a("div",{staticClass:"col-md-6"},[a("b-form-group",{staticClass:"mb-3",attrs:{label:"Availability","label-for":"formrow-phone-input"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},[a("option",[t._v("Available")]),a("option",[t._v("Busy")])]),a("input",{attrs:{type:"hidden"},domProps:{value:t.category}})])],1)]),a("div",{staticClass:"mt-4"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)])])])])])])])])]),a("b-modal",{attrs:{id:"lock-device",size:"lg",title:"Lock/Unlock Device"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"mt-4"},[a("h5",{staticClass:"font-size-14 mb-4"},[a("i",{staticClass:"mdi mdi-arrow-right text-primary me-1"}),t._v(" "+t._s(t.title)+" ")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.addrec()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-form-group",{staticClass:"mb-3",attrs:{label:"Reason","label-for":"formrow-reason-input"}},[a("b-textarea",{attrs:{id:"formrow-reason-input",type:"text",placeholder:"Payments made"}})],1)],1)]),a("div",{staticClass:"mt-4"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Apply")])],1)])])])])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[a("ul",{staticClass:"pagination pagination-rounded"},[a("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])],1)},o=[],s=(a("a4d3"),a("e01a"),a("a434"),a("b0c0"),a("5658")),n=a("2579"),l=a("c2a4"),r=a("3d20"),c=a.n(r),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("input",{directives:[{name:"model",rawName:"v-model",value:t.autocompleteText,expression:"autocompleteText"}],ref:"autocomplete",class:t.classname,attrs:{type:"text",id:t.id,placeholder:t.placeholder,disabled:t.disabled},domProps:{value:t.autocompleteText},on:{focus:function(e){return t.onFocus()},blur:function(e){return t.onBlur()},change:t.onChange,keypress:t.onKeyPress,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.autocompleteText=e.target.value)}}})},u=[],m=(a("99af"),a("caad"),a("2532"),a("b85c")),p={subpremise:"short_name",street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"long_name",country:"long_name",postal_code:"short_name"},f=["locality","administrative_area_level_3"],h=["locality","sublocality","postal_code","country","administrative_area_level_1","administrative_area_level_2"],v=["address_components","adr_address","alt_id","formatted_address","geometry","icon","id","name","business_status","photo","place_id","scope","type","url","utc_offset_minutes","vicinity"],g={name:"VueGoogleAutocomplete",props:{id:{type:String,required:!0},classname:String,placeholder:{type:String,default:"Start typing"},disabled:{type:Boolean,default:!1},types:{type:String,default:"address"},fields:{type:Array,default:function(){return v}},country:{type:[String,Array],default:null},enableGeolocation:{type:Boolean,default:!1},geolocationOptions:{type:Object,default:null}},data:function(){return{autocomplete:null,autocompleteText:"",geolocation:{geocoder:null,loc:null,position:null}}},watch:{autocompleteText:function(t,e){this.$emit("inputChange",{newVal:t,oldVal:e},this.id)},country:function(t,e){this.autocomplete.setComponentRestrictions({country:null===this.country?[]:this.country})}},mounted:function(){var t={};this.types&&(t.types=[this.types]),this.country&&(t.componentRestrictions={country:this.country}),this.autocomplete=new google.maps.places.Autocomplete(document.getElementById(this.id),t),this.autocomplete.setFields(this.fields),this.autocomplete.addListener("place_changed",this.onPlaceChanged)},methods:{onPlaceChanged:function(){var t=this.autocomplete.getPlace();t.geometry?void 0!==t.address_components&&(this.$emit("placechanged",this.formatResult(t),t,this.id),this.autocompleteText=document.getElementById(this.id).value,this.onChange()):this.$emit("no-results-found",t,this.id)},onFocus:function(){this.biasAutocompleteLocation(),this.$emit("focus")},onBlur:function(){this.$emit("blur")},onChange:function(){this.$emit("change",this.autocompleteText)},onKeyPress:function(t){this.$emit("keypress",t)},onKeyUp:function(t){this.$emit("keyup",t)},clear:function(){this.autocompleteText=""},focus:function(){this.$refs.autocomplete.focus()},blur:function(){this.$refs.autocomplete.blur()},update:function(t){this.autocompleteText=t},updateCoordinates:function(t){var e=this;(t||t.lat||t.lng)&&(this.geolocation.geocoder||(this.geolocation.geocoder=new google.maps.Geocoder),this.geolocation.geocoder.geocode({location:t},(function(t,a){"OK"===a?(t=e.filterGeocodeResultTypes(t),t[0]?(e.$emit("placechanged",e.formatResult(t[0]),t[0],e.id),e.update(t[0].formatted_address)):e.$emit("error","no result for provided coordinates")):e.$emit("error","error getting address from coords")})))},geolocate:function(){var t=this;this.updateGeolocation((function(e,a){t.updateCoordinates(e)}))},updateGeolocation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(navigator.geolocation){var a={};this.geolocationOptions&&Object.assign(a,this.geolocationOptions),navigator.geolocation.getCurrentPosition((function(a){var i={lat:a.coords.latitude,lng:a.coords.longitude};t.geolocation.loc=i,t.geolocation.position=a,e&&e(i,a)}),(function(e){t.$emit("error","Cannot get Coordinates from navigator",e)}),a)}},biasAutocompleteLocation:function(){var t=this;this.enableGeolocation&&this.updateGeolocation((function(e,a){var i=new google.maps.Circle({center:e,radius:a.coords.accuracy});t.autocomplete.setBounds(i.getBounds())}))},formatResult:function(t){for(var e={},a=0;a<t.address_components.length;a++){var i=t.address_components[a].types[0];if(p[i]){var o=t.address_components[a][p[i]];e[i]=o}}return e["latitude"]=t.geometry.location.lat(),e["longitude"]=t.geometry.location.lng(),e},filterGeocodeResultTypes:function(t){if(!t||!this.types)return t;var e=[],a=[this.types];a.includes("(cities)")&&(a=a.concat(f)),a.includes("(regions)")&&(a=a.concat(h));var i,o=Object(m["a"])(t);try{for(o.s();!(i=o.n()).done;){var s,n=i.value,l=Object(m["a"])(n.types);try{for(l.s();!(s=l.n()).done;){var r=s.value;if(a.includes(r)){e.push(n);break}}}catch(c){l.e(c)}finally{l.f()}}}catch(c){o.e(c)}finally{o.f()}return e}}},y=g,b=a("2877"),C=Object(b["a"])(y,d,u,!1,null,null,null),w=C.exports,_=a("bc3a"),x=a.n(_),k={page:{title:"Parking Ground",meta:[{name:"description",content:l.description}]},components:{Layout:s["a"],PageHeader:n["a"],VueGoogleAutocomplete:w},data:function(){return{title:"Parking Ground",items:[{text:"Parking Ground"},{text:"Parking Ground",active:!0}],query:"",capacity:"12",location:window.navigator.lat+","+window.location.lng,name:"",category:"Available",avslots:"12",cat:["Available","Busy"],addressData:{},placeResultData:{},contid:"",id:"",imei:"",color:"0000",status:"Available",cost:0,lease:0,unlock:!1,devicelist:[{id:"#MN0131",name:"City Squre",capacity:"20",avslots:"4",location:"(0.0013732910154955363,0.0006866455078121)",status:"Available"},{id:"#MN0132",name:"Sports Ground",capacity:"10",avslots:"5",location:"(0.0013732910154955367,0.0006866455078125)",status:"Available"},{id:"#MN0136",name:"Agakhan Squre",capacity:"22",avslots:"8",location:"(0,-0.00034375390625)",status:"Available"},{id:"#MN0134",name:"Mega Squre",capacity:"12",avslots:"2",location:"(-0.000275390568974,0)",status:"Available"},{id:"#MN0137",name:"City Mall",capacity:"21",avslots:"0",location:"(0.00085838824188,0.000376953125)",status:"Busy"},{id:"#MN0138",name:"Nyayo Squre",capacity:"27",avslots:"23",location:"(0.0008583068847,0.000171376953125)",status:"Available"},{id:"#MN0139",name:"City Stadium",capacity:"64",avslots:"28",location:"(0.00085830688473,0.0001716613769)",status:"Available"},{id:"#MN0140",name:"Mfangano Squre",capacity:"52",avslots:"11",location:"(0.0003068847324188,0.00011376953125)",status:"Available"},{id:"#MN0141",name:"Moi Avenue",capacity:"100",avslots:"0",location:"(0.00085830688474188,0.0001716616953125)",status:"Busy"}],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:[{key:"check",label:""},{key:"name",label:"Name",sortable:!0},{key:"location",label:"Location",sortable:!0},{key:"avslots",label:"Available Slots",sortable:!0},{key:"capacity",label:"Parking Slots",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"download",label:"Download Pdf"},{key:"action"}]}},computed:{rows:function(){return this.devicelist.length}},watch:{},mounted:function(){this.$refs["origin"],this.totalRows=this.items.length,this.locateGeoLocation(),this.$refs.name.focus(),this.getAddressData()},methods:{onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getAddressData:function(t,e,a){this.contid=a,this.placeResultData=e,this.name=t},locateGeoLocation:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude},t.location="("+e.coords.latitude+","+e.coords.longitude+")"}))},add:function(){var t=this.devicelist.length+1,e={id:t,name:this.name,capacity:this.capacity,avslots:this.capacity,status:this.status,location:this.location};this.devicelist.push(e),c.a.fire({position:"center",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),x.a.post(window.$http+"parkinginfo",e,{headers:window.$headers}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))},editrec:function(){this.devicelist[this.myindex].id=this.id,this.devicelist[this.myindex].name=this.name,this.devicelist[this.myindex].capacity=this.capacity,this.devicelist[this.myindex].city=this.city,this.devicelist[this.myindex].location=this.location,this.devicelist[this.myindex].status=this.status,""!=this.userList[this.myindex].id&&c.a.fire({position:"center",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:3e3}),c.a.fire({position:"center",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})},edit:function(t,e,a,i,o,s,n){this.modaltitle="Edit Ground",this.editmode=!0,this.id=t,this.name=a,this.imei=i,this.color=o,this.cost=s,this.status=n,this.myindex=e},deleterec:function(t,e,a){var i=this;this.id=t,this.name=a,c.a.fire({title:"Are you sure, you want to delete "+this.name+"?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#000000",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(i.devicelist.splice(e,1),c.a.fire(i.name+" Deleted!","Your record has been deleted.","success"))}))}},middleware:"authentication"},A=k,P=Object(b["a"])(A,i,o,!1,null,null,null);e["default"]=P.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),o=a("23cb"),s=a("a691"),n=a("50c4"),l=a("7b0b"),r=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),m=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!m||!p},{splice:function(t,e){var a,i,d,u,m,p,y=l(this),b=n(y.length),C=o(t,b),w=arguments.length;if(0===w?a=i=0:1===w?(a=0,i=b-C):(a=w-2,i=h(f(s(e),0),b-C)),b+a-i>v)throw TypeError(g);for(d=r(y,i),u=0;u<i;u++)m=C+u,m in y&&c(d,u,y[m]);if(d.length=i,a<i){for(u=C;u<b-i;u++)m=u+i,p=u+a,m in y?y[p]=y[m]:delete y[p];for(u=b;u>b-i+a;u--)delete y[u-1]}else if(a>i)for(u=b-i;u>C;u--)m=u+i-1,p=u+a-1,m in y?y[p]=y[m]:delete y[p];for(u=0;u<a;u++)y[u+C]=arguments[u+2];return y.length=b-i+a,d}})}}]);
//# sourceMappingURL=chunk-0f6d08db.8518fd4a.js.map